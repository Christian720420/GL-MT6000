# Target
CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_filogic=y
CONFIG_TARGET_mediatek_filogic_DEVICE_cudy_wr3000-v1=y

# CPU & optimization
CONFIG_TARGET_OPTIMIZATION="-O3 -pipe -mcpu=cortex-a53+crc+crypto -mtune=cortex-a53"
CONFIG_CPU_TYPE="cortex-a53"
CONFIG_ARM_CPU_TOPOLOGY=y
CONFIG_NR_CPUS=2

# Core system packages
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_busybox=y
CONFIG_PACKAGE_dropbear=y
CONFIG_PACKAGE_fstools=y
CONFIG_PACKAGE_netifd=y
CONFIG_PACKAGE_odhcp6c=y
CONFIG_PACKAGE_odhcpd-ipv6only=y
CONFIG_PACKAGE_opkg=y
CONFIG_PACKAGE_uci=y
CONFIG_PACKAGE_uclient-fetch=y
CONFIG_PACKAGE_dnsmasq=y
CONFIG_PACKAGE_logd=y
CONFIG_PACKAGE_urandom-seed=y

# LuCI Web Interface (HTTPS)
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_PACKAGE_luci-theme-bootstrap=y
CONFIG_PACKAGE_luci-ssl-openssl=y
CONFIG_PACKAGE_uhttpd=y
CONFIG_PACKAGE_uhttpd-mod-ubus=y

# Wireless + drivers for Cudy WR3000 (MT7981)
CONFIG_PACKAGE_kmod-mac80211=y
CONFIG_PACKAGE_kmod-mt76-core=y
CONFIG_PACKAGE_kmod-mt76-connac=y
CONFIG_PACKAGE_kmod-mt7915e=y
CONFIG_PACKAGE_kmod-mt7981-firmware=y
CONFIG_PACKAGE_wireless-regdb=y
CONFIG_PACKAGE_iw=y
CONFIG_PACKAGE_iwinfo=y
CONFIG_PACKAGE_wpad-basic-mbedtls=y

# Useful small tools
CONFIG_PACKAGE_ethtool=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget=y
CONFIG_PACKAGE_nano=y
CONFIG_PACKAGE_htop=y

# Security & kernel hardening
CONFIG_USE_LTO=y
CONFIG_USE_SSTRIP=y
CONFIG_STRIP_KERNEL_EXPORTS=y
CONFIG_PKG_CC_STACKPROTECTOR_STRONG=y
CONFIG_PKG_FORTIFY_SOURCE_2=y
CONFIG_KERNEL_STACKPROTECTOR_STRONG=y
CONFIG_KERNEL_RANDOMIZE_BASE=y
CONFIG_KERNEL_HARDENED_USERCOPY=y
CONFIG_KERNEL_PAGE_TABLE_ISOLATION=y
CONFIG_KERNEL_SECURITY=y
CONFIG_KERNEL_SECURITY_NETWORK=y

# Image options
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_TARGET_SQUASHFS_BLOCK_SIZE=256
CONFIG_TARGET_IMAGES_GZIP=y
CONFIG_TARGET_IMAGES_PAD=y
CONFIG_AUTOREMOVE=y
CONFIG_IMAGEOPT=y

# Compression and reproducibility
CONFIG_USE_GC_SECTIONS=y
CONFIG_REPRODUCIBLE_DEBUG_INFO=y
CONFIG_STRIP_KERNEL_EXPORTS=y

# Build host info (optional cosmetic)
CONFIG_KERNEL_BUILD_DOMAIN="buildhost"
CONFIG_KERNEL_BUILD_USER="builder"

# Disable unneeded features
# (ensure not built)
CONFIG_PACKAGE_bpftool=n
CONFIG_PACKAGE_clang=n
CONFIG_PACKAGE_llvm=n
CONFIG_PACKAGE_collectd=n
CONFIG_PACKAGE_luci-app-sqm=n
CONFIG_PACKAGE_luci-app-statistics=n
CONFIG_PACKAGE_luci-app-pbr=n
CONFIG_PACKAGE_luci-app-upnp=n
CONFIG_PACKAGE_pbr=n
CONFIG_PACKAGE_sqm-scripts=n
CONFIG_PACKAGE_miniupnpd-nftables=n
CONFIG_PACKAGE_tc-full=n
CONFIG_PACKAGE_dnsmasq-full=n
CONFIG_PACKAGE_kmod-fast-classifier=n
CONFIG_PACKAGE_kmod-shortcut-fe=n
CONFIG_PACKAGE_bridger=n
CONFIG_PACKAGE_dbus=n
CONFIG_PACKAGE_rpcd-mod-rrdns=n
